<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Netflix Clone</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #141414;
  color: white;
}
header {
  background: black;
  padding: 15px;
  color: #e50914;
  font-size: 26px;
  font-weight: bold;
}
.container { padding: 15px; }

input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 5px;
  border: none;
}

button {
  background: #e50914;
  color: white;
  font-weight: bold;
}

.row {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  margin-bottom: 20px;
}
.card {
  min-width: 160px;
  background: #222;
  border-radius: 8px;
  padding: 10px;
}
.card img {
  width: 100%;
  border-radius: 6px;
}
.card button {
  margin-top: 8px;
}

#player {
  position: fixed;
  top: 0;
  left: 0;
  background: black;
  width: 100%;
  height: 100%;
  z-index: 10;
}
#player iframe {
  width: 100%;
  height: 100%;
}
#closePlayer {
  position: absolute;
  top: 10px;
  right: 10px;
  background: red;
}
.hidden { display: none; }
</style>
</head>

<body>

<header>NETFLIX</header>

<div class="container">

  <h3>Agregar contenido</h3>
  <select id="tipo">
    <option value="series">Series</option>
    <option value="dibujos">Dibujos</option>
  </select>
  <input id="titulo" placeholder="TÃ­tulo">
  <input id="imagen" placeholder="Imagen (URL)">
  <input id="link" placeholder="Link del video o web">
  <button onclick="agregar()">Agregar</button>

  <h2>ðŸ“º Series</h2>
  <div class="row" id="series"></div>

  <h2>ðŸŽ¨ Dibujos</h2>
  <div class="row" id="dibujos"></div>

</div>

<!-- PLAYER -->
<div id="player" class="hidden">
  <button id="closePlayer" onclick="cerrar()">âœ–</button>
  <iframe id="iframe" allowfullscreen></iframe>
</div>

<script>
let datos = JSON.parse(localStorage.getItem("netflix_data")) || {
  series: [],
  dibujos: [
    {
      titulo: "Los Simpsons",
      imagen: "https://upload.wikimedia.org/wikipedia/en/0/0d/Simpsons_FamilyPicture.png",
      link: "https://simpsonizados.me/"
    }
  ]
};

function guardar() {
  localStorage.setItem("netflix_data", JSON.stringify(datos));
}

function agregar() {
  let item = {
    titulo: titulo.value.trim(),
    imagen: imagen.value.trim() || "https://via.placeholder.com/300x170",
    link: link.value.trim()
  };

  if (!item.titulo || !item.link) {
    alert("Faltan datos");
    return;
  }

  datos[tipo.value].push(item);
  guardar();
  mostrar();

  titulo.value = "";
  imagen.value = "";
  link.value = "";
}

function mostrar() {
  series.innerHTML = "";
  dibujos.innerHTML = "";

  datos.series.forEach(i => card(i, series));
  datos.dibujos.forEach(i => card(i, dibujos));
}

function card(item, cont) {
  cont.innerHTML += `
    <div class="card">
      <img src="${item.imagen}">
      <h4>${item.titulo}</h4>
      <button onclick="reproducir('${item.link}')">â–¶ Ver</button>
    </div>`;
}

function reproducir(link) {
  iframe.src = link;
  player.classList.remove("hidden");
}

function cerrar() {
  iframe.src = "";
  player.classList.add("hidden");
}

mostrar();
</script>

</body>
  </html>
